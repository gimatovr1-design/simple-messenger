<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Simple Messenger</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<h3>Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ñ‡Ð°Ñ‚ ðŸ‘‹</h3>

<!-- ===== Ð’Ð’ÐžÐ” ÐÐ˜ÐšÐ ===== -->
<div id="nickBox">
    <input id="nickInput" placeholder="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¸Ðº">
    <button onclick="setNick()">OK</button>
</div>

<!-- ===== Ð§ÐÐ¢ ===== -->
<div id="chat"></div>

<input id="messageInput" placeholder="Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ">
<button onclick="sendMessage()">ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ</button>

<script>
let ws = new WebSocket(
    (location.protocol === "https:" ? "wss://" : "ws://") +
    location.host + "/ws"
);

ws.onmessage = (event) => {
    const chat = document.getElementById("chat");
    chat.innerHTML += `<div>${event.data}</div>`;
    chat.scrollTop = chat.scrollHeight;
};

function setNick() {
    const nick = document.getElementById("nickInput").value.trim();
    if (nick !== "") {
        ws.send("/nick " + nick);
        document.getElementById("nickBox").style.display = "none";
    }
}

function sendMessage() {
    const input = document.getElementById("messageInput");
    if (input.value.trim() !== "") {
        ws.send(input.value);
        input.value = "";
    }
}
</script>

</body>

<!-- ===== Ð¡Ð¢Ð˜Ð›Ð˜ (Ð’ÐÐ˜Ð—Ð£, ÐšÐÐš Ð¢Ð« Ð¥ÐžÐ¢Ð•Ð›) ===== -->
<style>
body {
    margin: 0;
    min-height: 100vh;
    padding: 10px;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    color: #fff;

    background:
        linear-gradient(
            120deg,
            rgba(140, 0, 255, 0.45),
            rgba(0, 180, 255, 0.45),
            rgba(255, 0, 140, 0.45)
        ),
        url("https://images.unsplash.com/photo-1500530855697-b586d89ba3ee");

    background-size: 300% 300%, cover;
    background-position: 0% 50%, center;
    background-repeat: no-repeat;
    background-attachment: fixed;

    animation: neonMove 20s ease infinite;
}

@keyframes neonMove {
    0%   { background-position: 0% 50%, center; }
    50%  { background-position: 100% 50%, center; }
    100% { background-position: 0% 50%, center; }
}

#nickBox {
    margin-bottom: 8px;
}

#chat {
    height: 300px;
    overflow-y: auto;
    margin-bottom: 8px;
    padding: 8px;
    background: rgba(0,0,0,0.45);
    border-radius: 6px;
}

input {
    padding: 6px;
}

button {
    padding: 6px 10px;
    cursor: pointer;
}
</style>

</html>
